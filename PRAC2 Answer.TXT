CREATE OR REPLACE TRIGGER TIG1
AFTER INSERT ON CLIENT_MAST
BEGIN
DBMS_OUTPUT.PUT_LINE('EMPLOYEE ADDED');
END;

SELECT * FROM TAB;

DESC CLIENT_MAST;

DESC EMPLOYEE1;

INSERT INTO CLIENT_MAST(CLIENTNO,NAME,ADDRESS1,ADDRESS2,CITY,PINCODE,STATE,BALDUE)
VALUES('c00090','XYZ','XYZ','XYZ','NADIAD',393005,'GUJARAT',1000);

CREATE OR REPLACE TRIGGER EMPTIG
AFTER UPDATE OF SALARY ON EMPLOYEE1
FOR EACH ROW  WHEN(NEW.SALARY>2000)
BEGIN
 DBMS_OUTPUT.PUT_LINE('ERROR');
 DBMS_OUTPUT.PUT_LINE(:NEW.SALARY);
 DBMS_OUTPUT.PUT_LINE(:OLD.SALARY);
END;

SELECT * FROM EMPLOYEE1;

UPDATE EMPLOYEE1 SET SALARY=4000 WHERE EMPNO=1;


CREATE TABLE DEPT1
(DEPTNO NUMBER(20) PRIMARY KEY,
NAME VARCHAR2(30),
NUMBEROFEMP NUMBER(20),
TOTAL_SALARY NUMBER(20,2));

DESC DEPT1;

SELECT * FROM DEPT1;

INSERT INTO DEPT1(DEPTNO,NAME,NUMBEROFEMP,TOTAL_SALARY)
VALUES(1,'XYZ',1,2356);

CREATE OR REPLACE TRIGGER EMPDEL
BEFORE DELETE OF EMPNO ON EMPLOYEE1
BEGIN
 UPDATE DEPT1 SET NUMBEROFEMPLOYEE:=(OLD.EMPNO-COUNT(EMPLOYEE1.EMPNO));
END;
